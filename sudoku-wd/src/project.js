window.__require=function e(t,i,l){function o(n,c){if(!i[n]){if(!t[n]){var s=n.split("/");if(s=s[s.length-1],!t[s]){var h="function"==typeof __require&&__require;if(!c&&h)return h(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+n+"'")}}var a=i[n]={exports:{}};t[n][0].call(a.exports,function(e){return o(t[n][1][e]||e)},a,a.exports,e,t,i,l)}return i[n].exports}for(var r="function"==typeof __require&&__require,n=0;n<l.length;n++)o(l[n]);return o}({game:[function(e,t,i){"use strict";cc._RF.push(t,"c93aeD66SZKQ6SC3RdLuayP","game");var l=e("sudoku");cc.Class({extends:cc.Component,properties:{block:{default:null,type:cc.Sprite},key:{default:null,type:cc.Sprite},finish:{default:null,type:cc.Sprite},cellPrefab:{default:null,type:cc.Prefab},whiteSpriteFrame:{default:null,type:cc.SpriteFrame},graySpriteFrame:{default:null,type:cc.SpriteFrame},exitButton:{default:null,type:cc.Button},cellEventFlag:!0,clickCell:null},start:function(){this.initKey(),this.initFinish(),this.exitButton.node.on(cc.Node.EventType.TOUCH_END,function(){cc.director.end()},this),l.init(),l.create();for(var e=0;e<l.game.length;e++)for(var t=0;t<l.game[e].length;t++){var i=cc.instantiate(this.cellPrefab),o=30*(t-4),r=30*(4-e);o>0&&o++,r<0&&r--,i.setPosition(cc.p(o,r)),0==l.game[e][t]?(i.getChildByName("num").getComponent(cc.Label).string=" ",i.on(cc.Node.EventType.TOUCH_END,this.clickCellEvent,this)):(i.getChildByName("num").color=cc.Color.BLACK,i.getChildByName("num").getComponent(cc.Label).string=l.game[e][t]),i._row=e,i._col=t,i._block=l.getBlock(e,t),this.block.node.addChild(i)}},clickCellEvent:function(e){this.cellEventFlag?(this.cellEventFlag=!1,this.key.node.x=0,this.clickCell=e.target,this.clickCell.getComponent(cc.Sprite).spriteFrame=this.graySpriteFrame):(this.cellEventFlag=!0,this.key.node.x=1e3,this.clickCell.getComponent(cc.Sprite).spriteFrame=this.whiteSpriteFrame,this.clickCell=null)},fillNumberEvent:function(e){var t=e.target.getComponent(cc.Label).string;this.clickCell.getChildByName("num").getComponent(cc.Label).string=t,this.cellEventFlag=!0,0!=l.check(this.clickCell._row,this.clickCell._col,t)?this.clickCell.getChildByName("num").color=cc.Color.RED:this.clickCell.getChildByName("num").color=cc.Color.BLUE,l.game[this.clickCell._row][this.clickCell._col]=t,l.rowExistNumber[this.clickCell._row][t-1]=!0,l.colExistNumber[this.clickCell._col][t-1]=!0,l.blockExistNumber[this.clickCell._block][t-1]=!0,this.key.node.x=1e3,l.finishCheck()&&(this.finish.node.x=0)},initKey:function(){this.key.node.x=1e3;for(var e=0,t=1;t<4;t++)for(var i=1;i<4;i++){e++;var l=new cc.Node("numberLabel");l.x=40*(i-2),l.y=40*(2-t),l.color=cc.Color.WHITE;var o=l.addComponent(cc.Label);o.fontSize=30,o.string=e,l.on(cc.Node.EventType.TOUCH_END,this.fillNumberEvent,this),this.key.node.addChild(l)}},initFinish:function(){this.finish.node.x=1e3,this.finish.node.getChildByName("again").on(cc.Node.EventType.TOUCH_END,function(){l.again(),cc.director.loadScene("index")},this)},exitGame:function(){cc.director.end()},saveGame:function(){this.finish.node.x=1e3,this.finish.node.getChildByName("again").on(cc.Node.EventType.TOUCH_END,function(){l.again(),cc.director.loadScene("index")},this)}}),cc._RF.pop()},{sudoku:"sudoku"}],index:[function(e,t,i){"use strict";cc._RF.push(t,"824dcSKag5G+50GI01GpCSO","index");var l=e("sudoku");cc.Class({extends:cc.Component,properties:{level1:{default:null,type:cc.Label},level2:{default:null,type:cc.Label},level3:{default:null,type:cc.Label},level4:{default:null,type:cc.Label},startButton:{default:null,type:cc.Button}},start:function(){this.level1.node.color=cc.Color.RED,l.level=1,this.level1.node.on(cc.Node.EventType.TOUCH_END,this.selectLevel,this),this.level2.node.on(cc.Node.EventType.TOUCH_END,this.selectLevel,this),this.level3.node.on(cc.Node.EventType.TOUCH_END,this.selectLevel,this),this.level4.node.on(cc.Node.EventType.TOUCH_END,this.selectLevel,this),this.startButton.node.on(cc.Node.EventType.TOUCH_END,function(){cc.director.loadScene("game")},this)},selectLevel:function(e){var t=this.node.getChildren();for(var i in t)t[i].color=cc.Color.WHITE;e.target.color=cc.Color.RED,l.level=e.target.name.substring(5,6)}}),cc._RF.pop()},{sudoku:"sudoku"}],sudoku:[function(e,t,i){"use strict";cc._RF.push(t,"66f88Lhp3RLYqBxBX3S2aTj","sudoku");var l=new Object;l.level=1,l.block=9,l.game=null,l.rowExistNumber=null,l.colExistNumber=null,l.blockExistNumber=null,l.fixedNumber=null,l.again=function(){l.game=null,l.rowExistNumber=null,l.colExistNumber=null,l.blockExistNumber=null,l.fixedNumber=null},l.init=function(){if(null==this.game){this.game=new Array,this.rowExistNumber=new Array,this.colExistNumber=new Array,this.blockExistNumber=new Array,this.fixedNumber=new Array;for(var e=0;e<this.block;e++){this.game[e]=new Array,this.rowExistNumber[e]=new Array,this.colExistNumber[e]=new Array,this.blockExistNumber[e]=new Array,this.fixedNumber[e]=new Array;for(var t=0;t<this.block;t++)this.game[e][t]=0,this.rowExistNumber[e][t]=!1,this.colExistNumber[e][t]=!1,this.blockExistNumber[e][t]=!1,this.fixedNumber[e][t]=!1}for(e=0;e<this.block;e++){var i=this.getRandomBetween(0,this.block),l=this.getRandomBetween(0,this.block);if(!(this.game[i][l]>0)){this.game[i][l]=e+1,this.rowExistNumber[i][e]=!0,this.colExistNumber[l][e]=!0;var o=this.getBlock(i,l);this.blockExistNumber[o][e]=!0}}for(;!this.fillNumber(this.game,this.rowExistNumber,this.colExistNumber,this.blockExistNumber););}},l.create=function(){if(this.level<1||this.level>4)return!1;var e=0;if(1==this.level)for(e=this.getRandomBetween(45,50);e>0;){var t=this.getRandomBetween(0,this.block),i=this.getRandomBetween(0,this.block),l=0;if(0!=(c=this.game[t][i])){for(var o=0;o<this.block;o++)this.game[t][o]>0&&l++;if(3==l)continue;var r=this.getBlock(t,i);this.rowExistNumber[t][c-1]=!1,this.colExistNumber[i][c-1]=!1,this.blockExistNumber[r][c-1]=!1,this.game[t][i]=0,e--}}else if(2==this.level)for(var n=(e=this.getRandomBetween(50,57))-this.totalJumpNumber();e>0;){t=this.getRandomBetween(0,this.block),i=this.getRandomBetween(0,this.block);n-e<0&&(t%2==0?i%2!=0&&(i=i-1>0?i-1:i+1):i%2==0&&(i=i-1>0?i-1:i+1));l=0;if(0!=(c=this.game[t][i])){for(o=0;o<this.block;o++)this.game[t][o]>0&&l++;if(2==l)continue;r=this.getBlock(t,i);this.rowExistNumber[t][c-1]=!1,this.colExistNumber[i][c-1]=!1,this.blockExistNumber[r][c-1]=!1,this.game[t][i]=0,e--}}else if(3==this.level)for(e=this.getRandomBetween(55,60);e>0;){t=this.getRandomBetween(0,this.block),i=this.getRandomBetween(0,this.block),l=0;if(0!=(c=this.game[t][i])){for(o=0;o<this.block;o++)this.game[t][o]>0&&l++;if(1==l)continue;r=this.getBlock(t,i);this.rowExistNumber[t][c-1]=!1,this.colExistNumber[i][c-1]=!1,this.blockExistNumber[r][c-1]=!1,this.game[t][i]=0,e--}}else for(e=this.getRandomBetween(58,63);e>0;){var c;t=this.getRandomBetween(0,this.block),i=this.getRandomBetween(0,this.block),l=0;if(0!=(c=this.game[t][i])){for(o=0;o<this.block;o++)this.game[t][o]>0&&l++;if(l>2){r=this.getBlock(t,i);this.rowExistNumber[t][c-1]=!1,this.colExistNumber[i][c-1]=!1,this.blockExistNumber[r][c-1]=!1,this.game[t][i]=0,e--}}}for(o=0;o<this.block;o++)for(var s=0;s<this.block;s++)this.game[o][s]>0&&(this.fixedNumber[o][s]=!0);return!0},l.fillNumber=function(e,t,i,l){for(var o=0;o<this.block;o++)for(var r=0;r<this.block;r++){var n=this.getBlock(o,r);if(0==e[o][r]){for(var c=1;c<this.block+1;c++){var s=c-1;if(1!=t[o][s]&&1!=i[r][s]&&1!=l[n][s]){if(e[o][r]=c,t[o][s]=!0,i[r][s]=!0,l[n][s]=!0,this.fillNumber(e,t,i,l))return!0;e[o][r]=0,t[o][s]=!1,i[r][s]=!1,l[n][s]=!1}}if(0==e[o][r])return!1}}return!0},l.check=function(e,t,i){var l=this.getBlock(e,t),o=i-1;return 1==this.rowExistNumber[e][o]?1:1==this.colExistNumber[t][o]?2:1==this.blockExistNumber[l][o]?3:0},l.finishCheck=function(){for(var e=0;e<this.game.length;e++)for(var t=0;t<this.game[e].length;t++){if(0==this.game[e][t])return!1;if(0==this.rowExistNumber[e][t])return!1;if(0==this.colExistNumber[e][t])return!1;if(0==this.blockExistNumber[e][t])return!1}return!0},l.getBlock=function(e,t){var i=Math.sqrt(this.block);return Math.floor(e/i)*i+Math.floor(t/i)},l.totalJumpNumber=function(){for(var e=0,t=0;t<this.block;t++)for(var i=0;i<this.block;i++)if(t%2==0&&i%2==0)e++;else{if(t%2==0||i%2==0)continue;e++}return e},l.getRandomBetween=function(e,t){return Math.floor(Math.random()*(t-e))+e},t.exports=l,cc._RF.pop()},{}]},{},["game","index","sudoku"]);